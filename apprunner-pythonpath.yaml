version: 1.0
runtime: python311

build:
  commands:
    build:
      - mkdir -p /opt/python-packages
      - pip3 install --target /opt/python-packages -r requirements.txt
  env:
    - name: BUILD_ENV
      value: "production"

run:
  runtime-version: 3.11
  command: python3 app.py
  network:
    port: 8080
    env: PORT
  env:
    - name: ENVIRONMENT
      value: "production"
    - name: DEBUG
      value: "false"
    - name: PYTHONPATH
      value: "/opt/python-packages" 